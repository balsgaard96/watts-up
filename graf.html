<!DOCTYPE html>
<html>
<head>
  <title>Electricity Rates</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div id="chart"></div>
  <script>
    // Hent data fra serveren
    fetch('/electricity_rates')
      .then(response => response.json())
      .then(data => {
        const x = data.map(row => row.time);
        const y = data.map(row => row.ore_per_kwh);
        const trace = {
          x: x,
          y: y,
          type: 'scatter'
        };
        const layout = {
          title: 'Electricity Rates',
          xaxis: {
            title: 'Time'
          },
          yaxis: {
            title: 'Ore per kWh'
          }
        };
        Plotly.newPlot('chart', [trace], layout);
      });
  </script>
</body>
</html>